{% extends 'base.html' %}
{% block content %}
    <!-- Begin page content -->
    <div class="container">
        <div class="row">
            <div class="col text-center">
                <h1>{{ pagename }}</h1>
                <hr>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <p>Добро пожаловать, уважаемый пользователь!
                <p>На этом сайте ты сможешь сохранить свои заготовки кода на различных языках программирования<br>
                    А также делиться ими с другими пользователями...
                <hr>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-4 offset-4">
                <a href="{% url 'add_snippet_page' %}" class="btn btn-secondary btn-block">Добавить сниппет</a>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col">
                <hr>
                <h4>Найти сниппет по номеру</h4>

                <form action="/snippets/1/" method="get">
                    <div class="form-group row">
                        <label for="snippet_id" class="col-sm-2 col-form-label col-form-label-lg">Номер сниппета:</label>
                        <div class="col-sm-8">
                            <input type="number" class="form-control form-control-lg" id="snippet_id" name="snippet_id" placeholder="Введите ID сниппета">
                        </div>
                        <div class="col-sm-2">
                            <button type="submit" class="btn btn-info btn-lg">Найти</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('search_snippet_form').onsubmit = function() {
            var snippetId = document.getElementById('snippet_id').value;
            if (snippetId) {
                this.action = '/snippets/' + snippetId + '/';
            }
            return !!snippetId; 
        };
    });
</script>